# Maintainer: ArchStrike <team@archstrike.org>

buildarch=1

pkgname=python2-amoco
pkgver=2.6.3
pkgrel=1
groups=('archstrike' 'archstrike-malware')
pkgdesc="yet another tool for analysing binaries"
arch=('any')
url='https://github.com/bdcht/amoco'
license=('GPL2')
depends=('python2-pygments' 'python2-pyparsing' 'python2-ply' 'python2-crysp' 'python2-grandalf' 'python2-sqlalchemy' 'python2-future')
makedepends=('python2-setuptools')
source=("https://github.com/bdcht/amoco/archive/v$pkgver.tar.gz")
sha512sums=('b4a88e6c84e2593856f8da84fea0fdc4f60ec14fe8557d9a1922ee7547719562e80e59eda93bf8dc0cec2a26c3adc95bff3acc93ae7a99591751ebca97df8c00')

prepare(){
  grep -iRl python amoco-${pkgver} | xargs sed -i 's/python$/python2/g'
}


package() {
  cd "$srcdir/amoco-$pkgver"
  python2 setup.py install --root="$pkgdir" -O1
}
